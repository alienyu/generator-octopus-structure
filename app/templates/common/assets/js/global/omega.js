var Omega=function(e,t){var n=e.Omega;if(!n||!n.loaded){var r,o,a,i,c,u,l,f,s,d,m={onJsError:function(){}},v="0.1.8",g=!1,h=[],p="OmegaSDK://",b="didi",y=/omega/,k=/^\s*|\s*$/g,E=[],T="OMGH5PageView",O="OMGH5CustomTiming",S="OMGH5Click",w="OMGH5Touch",N="omgh5sid",_="omgh5dbg",C="omgh5hmp",j="omgscfg",M="omgh5sdbg",x="omgh5smpl",I="omega-auto",L=/[?&]omg_no_track=1(?:\&|#|$)/.test(location.search),P="//omgup.xiaojukeji.com/api/webstat/x.gif",A="//omgup.xiaojukeji.com/api/webinfo",J={},D={},H=navigator.userAgent||navigator.vendor||e.opera,B=e.MutationObserver||e.WebKitMutationObserver||e.MozMutationObserver,K=navigator.cookieEnabled?1:0,V=function(){try{return top.window===window}catch(e){return!1}}(),F=function(e){for(var n=t.cookie?t.cookie.split("; "):[],r=0,o=n.length;o>r;r++){var a=n[r].split("=");if(a[0]===e)return a[1]}},R=function(e,n,r){t.cookie=e+"="+n+(r?"; expires="+r:"")+"; path=/"},$=function(e){var t=new RegExp("[?&]"+e+"=([^&$]+)");return t.test(location.search)||t.test(location.hash.slice(1))?RegExp.$1:void 0},G=function(e){var t=F(j);try{if(t)return t=JSON.parse(t),e?t[e]:t}catch(n){}},U=function(e,t){var n=G();if(n||(n={}),le(e,"String")){var r={};r[e]=t,e=r}for(var o in e)n[o]=e[o];try{R(j,JSON.stringify(n)),re(n,oe)}catch(a){}},W=function(){return(Math.random()+"").substr(2,12)+"-"+(new Date).getTime()},Y=function(e){a=e},z=function(e){u=e},X=function(e){i=e,_e("username-received")},q=function(e){c=e,_e("telephone-received")},Q=function(e){l=e},Z=function(e){f=e},ee=W(),te=function(){var e=F(N);return e||R(N,e=ee),e}(),ne=function(){return $(te)}(),re=function(e,t){for(var n in e)if(e.hasOwnProperty(n))switch(n){case"productName":a=e[n];break;case"userName":i=e[n];break;case"telephone":c=e[n];break;case"pageTitle":u=e[n];break;case"cityId":l=e[n];break;case"channel":f=e[n];case"appVersion":s=e[n];default:t[n]=e[n]}return t},oe=function(){var e={autoClick:!0,autoTouch:!1,autoError:!0,noTrack:!1,autoSendPageView:!0},t=G();return t&&re(t,e),n&&n.constructor===Object&&(re(n,e),n=null),e}(),ae=function(){return"undefined"!=typeof OmegaSDK},ie=function(){return H.indexOf(b)>=0&&y.test(H)}(),ce=function(e){return E.push(e),function(){for(var t=0,n=E.length;n>t;t++)if(E[t]===e)return E.splice(t,1)}},ue=function(e){return Object.prototype.toString.call(e).match(/\[object\s+(\w+)\]/)[1]},le=function(e,t){return ue(e)===t},fe=function(){return e.addEventListener?function(e,t,n){e.addEventListener(t,n,!0)}:e.attachEvent?function(e,t,n){e.attachEvent("on"+t,n)}:void 0}(),se=function(){return e.removeEventListener?function(e,t,n){e.removeEventListener(t,n,!0)}:e.detachEvent?function(e,t,n){e.detachEvent("on"+t,n)}:void 0}(),de=function(e,n){var r=n["class"];if(r){var o=e,a=[];if(r.constructor===Array)for(var i=0,c=r.length;c>i;i++)a.push(" "+r[i]+" ");else a.push(" "+r+" ");for(var c=a.length;o&&o!==t.body&&o!==t.documentElement;){for(var u=" "+o.className+" ",i=0;c>i;i++)if(u.indexOf(a[i])>-1)return o;o=o.parentNode}}var l=n.attr;if(l)for(var o=e;o&&o!==t.body&&o!==t.documentElement;)if(o.hasAttribute(l)){var f=o.getAttribute(l);if(!f)return o;try{var s=JSON.parse(f);return s.target=o,s}catch(d){return o}}else o=o.parentNode},me=function(t){o&&(ee=W());var n={nt:1};if(t=t||{},e.performance&&e.performance.timing){var r=ve();for(var a in r)t[a]=r[a]}Ce(Ne([T,t]),n)},ve=function(){var t=e.performance.timing,n={t_fb:t.responseStart-t.navigationStart,t_rq:t.responseEnd-t.requestStart,t_tcp:t.connectEnd-t.connectStart,t_dns:t.domainLookupEnd-t.domainLookupStart,t_pgrd:t.loadEventEnd-t.navigationStart,t_dmrd:t.domContentLoadedEventEnd-t.navigationStart,t_psdm:t.domComplete-t.domInteractive,t_di:t.domInteractive-t.domLoading,t_dcl:t.domContentLoadedEventEnd-t.domLoading,t_dc:t.domComplete-t.domLoading,t_ld:t.loadEventEnd-t.loadEventStart},r=e.performance.memory;r&&(n.m_used=r.usedJSHeapSize,n.m_total=r.totalJSHeapSize,n.m_limit=r.jsHeapSizeLimit);for(var o in D){var a=n.t_custom;a||(a=n.t_custom={}),a[o]=D[o]}try{a&&(n.t_custom=JSON.stringify(a))}catch(i){}return n},ge=function(){return V||!$(_)&&!F(M)?!1:(R(M,"1"),!0)}(),he=function(){return V?!1:$(C)}(),pe=function(t,n,r,a,i){var c,u,l=a.ts;t!==T||o||(o=!0);var f="?e="+t;for(var s in a)f+="&"+s+"="+encodeURIComponent(a[s]);if(f+="&attrs="+encodeURIComponent(JSON.stringify(r)),ge)try{top.window.postMessage("omgh5:log:"+f,"*")}catch(d){}else{i&&setTimeout(function(){c||(u=!0,i(t,n,r,a,u))},1e3);var m=e["_t_ig"+l]=new Image;m.onload=function(){try{m.onload=m.onerror=m.onabort=null,delete e["_t_ig"+l]}finally{u||(c=!0,i&&i(t,n,r,a))}},m.onerror=m.onabort=function(){var e=+(m.getAttribute("count")||0);m.setAttribute("count",++e),4>e&&setTimeout(function(){m.src=P+f+"&_rt="+e},100)},m.src=P+f}},be=function(e){for(var t=e.parentNode.children,n=0,r=t.length;r>n;n++)if(t[n]===e)return n},ye=function(e){var t,n=[],r=e;try{for(;"BODY"!==r.nodeName;){var o=r.getAttribute("id")||r.getAttribute("name");if(o){n.unshift(o),t=1;break}n.unshift(be(r)),r=r.parentNode}t||n.unshift("body")}catch(r){n.length=0}return n.length?n.join("->"):""},ke=function(t,n,r,o){var a,i={};n=n||e.event;var c=n.target||n.srcElement;if(r&&le(r,"Object")){var u=de(c,r);if(u){if(le(u,"Object")){if(t=u.e||t,a=u.l,u.attrs&&le(u.attrs,"Object"))for(var l in u.attrs)i[l]=u.attrs[l];c=u.target}}else if(!o)return}else if(!o)return;_e(t,a||c.tagName,i,c,n,!0)},Ee=function(e){for(var t=arguments.length,n={eventId:e},r=1;t>r;r++){var o=arguments[r],a=ue(o);switch(a){case"String":n.eventLabel=o;break;case"Object":n.attrs=o;break;case"Function":n.callback=o;break;case"Boolean":n.auto=o;break;case"MouseEvent":case"TouchEvent":n.event=o;break;case"Undefined":case"Null":break;default:n.target=o}}return n},Te=function(e,n,r){var o={v:location.href,r:t.referrer||"",c:K,ts:(new Date).getTime(),fp:1,p:ee,jv:v,pt:u||t.title||""};return K&&(o.s=te),n&&(o.l=n),a&&(o.pn=a),i&&(o.un=i),c&&(o.tel=c),l&&(o.ct=l),f&&(o.ch=f),s&&(o.av=s),ne&&(o.rs=ne),o},Oe=function(e){return e.replace(k,"")},Se=function(e){try{var t=e.nodeName;if("INPUT"===t&&"button"===e.type)return e.value;if("SELECT"===t||"INPUT"===t||"TEXTAREA"===t){var n=[],r=e.previousSibling;r&&3==r.nodeType&&n.push(Oe(r.nodeValue)),e.placeholder&&n.push("placeholder="+e.placeholder),e.id&&n.push("id="+e.id),e.name&&n.push("name="+e.name),e.className&&n.push("class="+e.className);var o=e.nextSibling;return o&&3==o.nodeType&&n.push(Oe(o.nodeValue)),n.join(" ")}for(var a=e.childNodes,n=[],i=0,c=a.length;c>i;i++){var u=a[i];3==u.nodeType&&n.push(Oe(u.nodeValue))}return n.join(" ")}catch(l){}},we=function(e,n,r){n=n||{},e.id&&(n.id=e.id),e.className&&(n["class"]=e.className),e.href&&(n.href=e.href),e.name&&(n.name=e.name);var o=Se(e);if(o&&(o.length>50&&(o=o.substr(0,50)+"..."),n.text=o),e.getBoundingClientRect){var a=e.getBoundingClientRect();n.ex=Math.round(a.left),n.ey=Math.round(a.top),a.width&&(n.ew=Math.round(a.width)),a.height&&(n.eh=Math.round(a.height))}if(!n.eh&&e.offsetHeight&&(n.eh=e.offsetHeight),!n.ew&&e.offsetWidth&&(n.ew=e.offsetWidth),r){var i=t.documentElement.scrollLeft||t.body&&t.body.scrollLeft||0,c=t.documentElement.scrollTop||t.body&&t.body.scrollTop||0,u=r.pageX||r.clientX+i,l=r.pageY||r.clientY+c;n.x=u,n.y=l}var a=ye(e);return a&&(n.rn=a),n.h=t.documentElement.scrollHeight||t.body&&t.body.scrollHeight||0,n.w=t.documentElement.scrollWidth||t.body&&t.body.scrollWidth||0,n},Ne=function(e){e=Ee.apply(null,e);var t=e.eventId,n=e.eventLabel||"",r=e.attrs||{},o=e.target,a=e.event,i=e.callback;for(var c in oe)r.hasOwnProperty(c)||(r[c]=oe[c]);if(r=xe(t,r,o),o&&(t===S||t===w||e.auto)&&(r=we(o,r,a),d))for(var c in d)r[c]=d[c]();return{eventId:t,callback:i,eventLabel:n,attrs:r,sys:Te(t,n,o)}},_e=function(){try{var e=Ne(arguments);Ce(e)}catch(t){}},Ce=function(t,n){if(!L){var r=t.eventId,o=t.eventLabel,a=t.callback,i=t.attrs,c=t.sys,u=JSON.stringify(n||{}),l=JSON.stringify(i),f=JSON.stringify(c);if("OMGH5JsError"===r&&m.onJsError(o,c,i),ae())if(OmegaSDK.trackEventEx)try{OmegaSDK.trackEventEx(r,o,l,f,u),a&&a(r,o,i,c)}catch(s){pe(r,o,i,c,a)}else if(OmegaSDK.trackEvent)try{OmegaSDK.trackEvent(r,o,l,f),a&&a(r,o,i,c)}catch(s){try{OmegaSDK.trackEvent(r,o,l),a&&a(r,o,i,c)}catch(s){pe(r,o,i,c,a)}}else pe(r,o,i,c,a);else if(ie){var d=p+"trackEvent?e="+r;d+="&attrs="+l,d+="&sys="+f,n&&(d+="&ex="+u),e.prompt(d),a&&a(r,o,i,c)}else pe(r,o,i,c,a)}},je=function(e,t,n,r,o){var a={line:n,url:t};r&&(a.col=r),o&&o.stack&&(e=o.stack),_e("OMGH5JsError",e,a)},Me=function(){if(!J.jserror){J.jserror=1;var t=e.onerror;e.onerror=function(n,r,o,a,i){je(n,r,o,a,i),"function"==typeof t&&t.apply(e,arguments)}}},xe=function(e,t,n){t=t||{};for(var r=0,o=E.length;o>r;r++){var a=E[r].call(n,e,t,n);if(a&&le(a,"Object"))for(var i in a)t[i]=a[i]}return re(t,{})},Ie=function(){if(ae())try{return OmegaSDK.getInfo()}catch(e){}},Le=function(e,n){try{var r=t.createElement("script");t.documentElement.appendChild(r);var o=Je()+"_"+(""+Math.random()).substr(2,9);r.onload=function(e){return function(){t.documentElement.removeChild(r)}}(o),e&&le(e,"Function")&&(m["__callback"+o]=function(){return function(t){e(JSON.parse(t)),delete m["__callback"+o]}}(o),r.src=A+"?callback=Omega.__callback"+o),r.onerror=function(e){return function(){n&&le(n,"Function")&&n(),t.documentElement.removeChild(r),delete m["__callback"+e]}}(o)}catch(a){}},Pe=function(e,t){var n;if(e&&le(e,"Function")){if(r)return void e(r);Le(function(t){e(r=t.clientid)},t)}else Promise&&Promise.all&&(n=new Promise(function(e,t){r?e(r):Le(function(t){e(r=t.clientid)},t)}));return n},Ae=function(e,n,r,o){var a=J[e];a&&se(t,e,a),J[e]=function(e){ke(n,e,r,o)},fe(t,e,J[e])},Je=function(){if(e.performance&&e.performance.now)return function(){return parseInt(e.performance.now())};var t=Date.now();return e.performance&&e.performance.timing&&(t=e.performance.timing.navigationStart),function(){return Date.now()-t}}(),De=function(t){e.performance&&performance.timing&&le(t,"String")&&(D[""+t]=Je())},He=function(e){Ae("click",S,e,1)},Be=function(e){Ae("touchstart",w,e,1)},Ke=function(e){Ae("click",S,e)},Ve=function(e){Ae("touchstart",w,e)},Fe=function(e){var t=F(x);if(!t){var n=new Date;t=n.getTime(),n.setFullYear(n.getFullYear()+30),R(x,t,n.toGMTString())}return t%(1/e)===0},Re=function(e,t,n,r,o){if(e&&"string"==typeof e&&"number"==typeof t){o=o||.1,r=r||{},r.ms=t;var a={nt:1};n&&(r.version=n),Fe(o)&&Ce(Ne([O,e,r]),a)}};oe.autoClick&&(le(oe.autoClick,"Object")?He(oe.autoClick):He()),oe.autoTouch&&(le(oe.autoTouch,"Object")?Be(oe.autoTouch):Be()),oe.filterClick&&le(oe.filterClick,"Object")&&Ke(oe.filterClick),oe.filterTouch&&le(oe.filterTouch,"Object")&&Ve(oe.filterTouch),oe.autoError&&Me(),oe.noTrack&&(L=1);var $e=oe.autoSendPageView;if(delete oe.autoClick,delete oe.autoTouch,delete oe.autoError,delete oe.debugMode,delete oe.autoSendPageView,delete oe.filterClick,delete oe.filterTouch,delete oe.noTrack,B)try{var Ge=new B(function(e){We(t.body)});fe(e,"load",function(){var e={childList:!0,subtree:!0};Ge.observe(t.body,e)})}catch(Ue){}var We=function(e){var t={},n=e.getElementsByTagName("*");n[n.length]=e;for(var r=0,o=n.length;o>r;r++){var a=n[r],i=a.nodeName;switch(i){case"INPUT":var c=a.type;!a.name||"text"!==c&&"hidden"!==c||(t[a.name]=function(e){return function(){return e.value}}(a));break;case"TEXTAREA":a.name&&(t[a.name]=function(e){return function(){return e.value}}(a))}if(a.hasAttribute(I)){var u=a.getAttribute(I);if(u){var l=u.split(":");t[l[0]]=function(e,t){return function(){return"text"===t?e.textContent||e.innerText:e.value}}(a,l[1])}else a.name&&(t[a.name]=function(e){return function(){return e.value}}(a))}}d=t};return fe(e,"load",function(){for(g=!0;h.length;)setTimeout(h.pop(),10)}),ge&&!function(){var e,n,r;fe(t,"mouseover",function(t){var o=t.target,a=ye(o);e=o.style.border,o.style.border="2px solid #f00",n=o.title,o.title=a,r=setTimeout(function(){top.window.postMessage("omgh5:rncopy:"+a,"*")},1e3)}),fe(t,"mouseout",function(t){var o=t.target;o.style.border=e,o.title=n,clearTimeout(r)})}(),he&&fe(e,"message",function(e){try{e.data.replace(/^omgh5\:rnheat\:(.+)$/,function(e,n){var r=n.split("->"),o=r[0],a=t.body;"body"!==o&&(a=t.getElementById(o)),a||(a=t.getElementsByName(o)[0]);for(var i=1,c=r.length;c>i;i++)a=a.children[r[i]];a&&top.window.postMessage("omgh5:rninfo:"+JSON.stringify(we(a)),"*")})}catch(e){}}),(ge||he)&&!function(){var n={};fe(e,"message",function(r){try{r.data.replace(/^omgh5\:rnhover\:(.+)$/,function(e,r){var o=r.split("->"),a=o[0],i=t.body;"body"!==a&&(i=t.getElementById(a)),i||(i=t.getElementsByName(a)[0]);for(var c=1,u=o.length;u>c;c++)i=i.children[o[c]];if(i){var l=i.style.border;n[r]=l,i.style.border="2px solid #f00",setTimeout(function(){i.style.border=l},3e3)}}),r.data.replace(/^omgh5\:rnout\:(.+)$/,function(e,r){var o=r.split("->"),a=o[0],i=t.body;"body"!==a&&(i=t.getElementById(a)),i||(i=t.getElementsByName(a)[0]);for(var c=1,u=o.length;u>c;c++)i=i.children[o[c]];i&&(i.style.border=n[r])}),r.data.replace(/^omgh5\:go(\w+)$/,function(t,n){e.history[n]()})}catch(r){}})}(),$e&&h.push(me),m.trackEvent=_e,m.getAppSdkInfo=Ie,m.trackError=je,m.addTrackHandler=ce,m.enableClickAutoTracker=He,m.enableTouchAutoTracker=Be,m.enableClickFilterTracker=Ke,m.enableTouchFilterTracker=Ve,m.setProduct=Y,m.setUserName=X,m.setTelephone=q,m.setPageTitle=z,m.setCityId=Q,m.setChannel=Z,m.sendPageView=me,m.markTimePoint=De,m.setSessionConfig=U,m.trackTiming=Re,m.sid=function(){return te},m.getProduct=function(){return a},m.getClientId=Pe,m.enableDebugMode=function(){},m.trackPerformance=function(){},m.bindEvent=fe,m.getQuery=$,m.loaded=!0,m}}(window,document);